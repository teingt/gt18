(this.webpackJsonpfronted=this.webpackJsonpfronted||[]).push([[0],{51:function(e,t,a){},52:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(23),r=a.n(c);a(51),a(52),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(32),i=a(22),o=a(26);s.a.use(i.e).init({resources:{en:{translations:{"Sign Up":"Sign Up","Password mismatch":"Password mismatch",Username:"Username","Display Name":"Display Name",Password:"Password","Password Repeat":"Password Repeat",Login:"Login",Logout:"Logout",Users:"Users",Next:"next >",Previous:"< previous","Load Failure":"Load Failure","User Not Found":"User Not Found",Edit:"Edit","Change Display Name":"Change Display Name",Save:"Save",Cancel:"Cancel","My Profile":"My Profile","There are no hoaxes":"There are no hoaxes","Load old hoaxes":"Load old hoaxes","There are new hoaxes":"There are new hoaxes","Delete Hoax":"Delete Hoax","Are you sure to delete hoax?":"Are you sure to delete hoax?","Delete My Account":"Delete My Account","Are you sure to delete your account?":"Are you sure to delete your account?"}},tr:{translations:{"Sign Up":"Kay\u0131t Ol","Password mismatch":"Ayn\u0131 \u015fifreyi giriniz",Username:"Kullan\u0131c\u0131 Ad\u0131","Display Name":"Tercih Edilen \u0130sim",Password:"\u015eifre","Password Repeat":"\u015eifreyi Tekrarla",Login:"Sisteme Gir",Logout:"\xc7\u0131k",Users:"Kullan\u0131c\u0131lar",Next:"sonraki >",Previous:"< \xf6nceki","Load Failure":"Liste Al\u0131namad\u0131","User Not Found":"Kullan\u0131c\u0131 Bulunamad\u0131",Edit:"D\xfczenle","Change Display Name":"G\xf6r\xfcn\xfcr \u0130sminizi De\u011fi\u015ftirin",Save:"Kaydet",Cancel:"\u0130ptal Et","My Profile":"Hesab\u0131m","There are no hoaxes":"Hoax Bulunamad\u0131","Load old hoaxes":"Ge\xe7mi\u015f Hoaxlar\u0131 Getir","There are new hoaxes":"Yeni Hoaxlar Var","Delete Hoax":"Hoax'u Sil","Are you sure to delete hoax?":"Hoax'u silmek istedi\u011finizden emin misiniz?","Delete My Account":"Hesab\u0131m\u0131 Sil","Are you sure to delete your account?":"Hesab\u0131n\u0131z\u0131 silmek istedi\u011finizden emin misiniz?"}}},fallbackLng:"tr",ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}});Object(o.b)("tr",(function(e,t){return[["az \xf6nce","\u015fimdi"],["%s saniye \xf6nce","%s saniye i\xe7inde"],["1 dakika \xf6nce","1 dakika i\xe7inde"],["%s dakika \xf6nce","%s dakika i\xe7inde"],["1 saat \xf6nce","1 saat i\xe7inde"],["%s saat \xf6nce","%s saat i\xe7inde"],["1 g\xfcn \xf6nce","1 g\xfcn i\xe7inde"],["%s g\xfcn \xf6nce","%s g\xfcn i\xe7inde"],["1 hafta \xf6nce","1 hafta i\xe7inde"],["%s hafta \xf6nce","%s hafta i\xe7inde"],["1 ay \xf6nce","1 ay i\xe7inde"],["%s ay \xf6nce","%s ay i\xe7inde"],["1 y\u0131l \xf6nce","1 y\u0131l i\xe7inde"],["%s y\u0131l \xf6nce","%s y\u0131l i\xe7inde"]][t]}));s.a;var l=a(2),u=a.n(l),d=a(6),j=a(17),b=a(4),p=a(3),m=a(0),h=function(e){var t=e.label,a=e.error,n=e.name,c=e.onChange,r=e.type,s=e.defaultValue,i="form-control";return"file"===r&&(i+="-file"),void 0!==a&&(i+=" is-invalid"),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{children:t}),Object(m.jsx)("input",{className:i,name:n,onChange:c,type:r,defaultValue:s}),Object(m.jsx)("div",{className:"invalid-feedback",children:e.error})]})},O=a(89),f=function(e){var t=e.onClick,a=e.pendingApiCall,n=e.disabled,c=e.text,r=e.className;return Object(m.jsxs)("button",{className:r||"btn btn-primary",onClick:t,disabled:n,children:[a&&Object(m.jsx)("span",{className:"spinner-border spinner-border-sm"})," ",c]})},x=a(8),v=a.n(x),g=function(e,t,a){var c=Object(n.useState)(!1),r=Object(p.a)(c,2),s=r[0],i=r[1];return Object(n.useEffect)((function(){var n,c,r=function(n,c,r){n===e&&(a&&c===t||!a&&c.startsWith(t))&&i(r)};return n=v.a.interceptors.request.use((function(e){var t=e.url,a=e.method;return r(a,t,!0),e})),c=v.a.interceptors.response.use((function(e){var t=e.config,a=t.url,n=t.method;return r(n,a,!1),e}),(function(e){var t=e.config,a=t.url,n=t.method;throw r(n,a,!1),e})),function(){v.a.interceptors.request.eject(n),v.a.interceptors.response.eject(c)}}),[t,e,a]),s},N=a(9),y="logout-success",w="login-success",k="update-success",C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return v.a.get("/api/1.0/users?page=".concat(e,"&size=").concat(t))},S=function(e){var t=e.isLoggedIn,a=e.token;if(t){var n="Bearer ".concat(a);v.a.defaults.headers.Authorization=n}else delete v.a.defaults.headers.Authorization},L=function(e){return v.a.get("/api/1.0/users/".concat(e))},E=function(e,t){return v.a.put("/api/1.0/users/".concat(e),t)},A=function(e){return v.a.post("/api/1.0/hoaxes",e)},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=e?"/api/1.0/users/".concat(e,"/hoaxes?page="):"/api/1.0/hoaxes?page=";return v.a.get(a+t)},U=function(e,t){var a=t?"/api/1.0/users/".concat(t,"/hoaxes/").concat(e):"/api/1.0/hoaxes/".concat(e);return v.a.get(a)},P=function(e,t){var a=t?"/api/1.0/users/".concat(t,"/hoaxes/").concat(e,"?count=true"):"/api/1.0/hoaxes/".concat(e,"?count=true");return v.a.get(a)},F=function(e,t){var a=t?"/api/1.0/users/".concat(t,"/hoaxes/").concat(e,"?direction=after"):"/api/1.0/hoaxes/".concat(e,"?direction=after");return v.a.get(a)},H=function(e){return v.a.post("/api/1.0/hoax-attachments",e)},I=function(e){return v.a.delete("/api/1.0/hoaxes/".concat(e))},T=function(e){return v.a.delete("/api/1.0/users/".concat(e))},z=function(){return function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.post("/api/1.0/logout");case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:t({type:y});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},R=function(e){return{type:w,payload:e}},M=function(e){var t=e.displayName,a=e.image;return{type:k,payload:{displayName:t,image:a}}},_=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){var n,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r=e,v.a.post("/api/1.0/auth",r);case 2:return n=t.sent,c=Object(b.a)(Object(b.a)({},n.data.user),{},{password:e.password,token:n.data.token}),a(R(c)),t.abrupt("return",n);case 6:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c=e,v.a.post("/api/1.0/users",c);case 2:return n=t.sent,t.next=5,a(_(e));case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()},V=function(e){var t,a=Object(n.useState)({username:null,displayName:null,password:null,passwordRepeat:null}),c=Object(p.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)({}),o=Object(p.a)(i,2),l=o[0],x=o[1],v=Object(N.b)(),y=function(e){var t=e.target,a=t.name,n=t.value;x((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(j.a)({},a,void 0))})),s((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(j.a)({},a,n))}))},w=function(){var t=Object(d.a)(u.a.mark((function t(a){var n,c,s,i,o,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.history,c=n.push,s=r.username,i=r.displayName,o=r.password,l={username:s,displayName:i,password:o},t.prev=5,t.next=8,v(B(l));case 8:c("/"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),t.t0.response.data.validationErrors&&x(t.t0.response.data.validationErrors);case 14:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e){return t.apply(this,arguments)}}(),k=Object(O.a)().t,C=l.username,S=l.displayName,L=l.password,E=g("post","/api/1.0/users"),A=g("post","/api/1.0/auth"),D=E||A;return r.password!==r.passwordRepeat&&(t=k("Password mismatch")),Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("form",{children:[Object(m.jsx)("h1",{className:"text-center",children:k("Sign Up")}),Object(m.jsx)(h,{name:"username",label:k("Username"),error:C,onChange:y}),Object(m.jsx)(h,{name:"displayName",label:k("Display Name"),error:S,onChange:y}),Object(m.jsx)(h,{name:"password",label:k("Password"),error:L,onChange:y,type:"password"}),Object(m.jsx)(h,{name:"passwordRepeat",label:k("Password Repeat"),error:t,onChange:y,type:"password"}),Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)(f,{onClick:w,disabled:D||void 0!==t,pendingApiCall:D,text:k("Sign Up")})})]})})},K=function(e){var t=Object(n.useState)(),a=Object(p.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(),i=Object(p.a)(s,2),o=i[0],l=i[1],j=Object(n.useState)(),b=Object(p.a)(j,2),x=b[0],v=b[1],y=Object(N.b)();Object(n.useEffect)((function(){v(void 0)}),[c,o]);var w=function(){var t=Object(d.a)(u.a.mark((function t(a){var n,r,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={username:c,password:o},r=e.history,s=r.push,v(void 0),t.prev=5,t.next=8,y(_(n));case 8:s("/"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),v(t.t0.response.data.message);case 14:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e){return t.apply(this,arguments)}}(),k=Object(O.a)().t,C=g("post","/api/1.0/auth"),S=c&&o;return Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("form",{children:[Object(m.jsx)("h1",{className:"text-center",children:k("Login")}),Object(m.jsx)(h,{label:k("Username"),onChange:function(e){return r(e.target.value)}}),Object(m.jsx)(h,{label:k("Password"),type:"password",onChange:function(e){return l(e.target.value)}}),x&&Object(m.jsx)("div",{className:"alert alert-danger",children:x}),Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)(f,{onClick:w,disabled:!S||C,pendingApiCall:C,text:k("Login")})})]})})},W=function(e){var t=Object(O.a)().i18n,a=function(e){t.changeLanguage(e),function(e){v.a.defaults.headers["accept-language"]=e}(e)};return Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("img",{src:"https://www.countryflags.io/tr/flat/24.png",alt:"Turkish Flag",onClick:function(){return a("tr")},style:{cursor:"pointer"}}),Object(m.jsx)("img",{src:"https://www.countryflags.io/us/flat/24.png",alt:"USA Flag",onClick:function(){return a("en")},style:{cursor:"pointer"}})]})},G=a(18),q=a.p+"static/media/profile.06c30927.png",J=function(e){var t=e.image,a=e.tempimage,n=q;return t&&(n="images/profile/"+t),Object(m.jsx)("img",Object(b.a)(Object(b.a)({alt:"Profile",src:a||n},e),{},{onError:function(e){e.target.src=q}}))},X=a(12),Y=function(e){var t=e.visible,a=e.onClickCancel,n=e.message,c=e.onClickOk,r=e.pendingApiCall,s=e.title,i=e.okButton,o=Object(O.a)().t,l="modal fade";return t&&(l+=" show d-block"),Object(m.jsx)("div",{className:l,style:{backgroundColor:"#000000b0"},children:Object(m.jsx)("div",{className:"modal-dialog",children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsx)("div",{className:"modal-header",children:Object(m.jsx)("h5",{className:"modal-title",children:s})}),Object(m.jsx)("div",{className:"modal-body",children:n}),Object(m.jsxs)("div",{className:"modal-footer",children:[Object(m.jsx)("button",{className:"btn btn-secondary",disabled:r,onClick:a,children:o("Cancel")}),Object(m.jsx)(f,{className:"btn btn-danger",onClick:c,pendingApiCall:r,disabled:r,text:i})]})]})})})},$=function(e){var t=Object(N.c)((function(e){return e.username})),a=e.hoax,c=e.onDeleteHoax,r=a.user,s=a.content,i=a.timestamp,l=a.fileAttachment,j=a.id,b=r.username,h=r.displayName,f=r.image,x=Object(n.useState)(!1),v=Object(p.a)(x,2),y=v[0],w=v[1],k=g("delete","/api/1.0/hoaxes/".concat(j),!0),C=Object(O.a)(),S=C.t,L=C.i18n,E=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(j);case 2:c(j);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=Object(o.a)(i,L.language),D=t===b;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"card p-1",children:[Object(m.jsxs)("div",{className:"d-flex",children:[Object(m.jsx)(J,{image:f,width:"32",height:"32",className:"rounded-circle m-1"}),Object(m.jsx)("div",{className:"flex-fill m-auto pl-2",children:Object(m.jsxs)(X.b,{to:"/user/".concat(b),className:"text-dark",children:[Object(m.jsxs)("h6",{className:"d-inline",children:[h,"@",b]}),Object(m.jsx)("span",{children:" - "}),Object(m.jsx)("span",{children:A})]})}),D&&Object(m.jsx)("button",{className:"btn btn-delete-link btn-sm",onClick:function(){return w(!0)},children:Object(m.jsx)("i",{className:"material-icons",children:"delete_outline"})})]}),Object(m.jsx)("div",{className:"pl-5",children:s}),l&&Object(m.jsxs)("div",{className:"pl-5",children:[l.fileType.startsWith("image")&&Object(m.jsx)("img",{className:"img-fluid",src:"images/attachments/"+l.name,alt:s}),!l.fileType.startsWith("image")&&Object(m.jsx)("strong",{children:"Hoax has unknown attachment"})]})]}),Object(m.jsx)(Y,{visible:y,title:S("Delete Hoax"),onClickCancel:function(){w(!1)},onClickOk:E,message:Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:Object(m.jsx)("strong",{children:S("Are you sure to delete hoax?")})}),Object(m.jsx)("span",{children:s})]}),pendingApiCall:k,okButton:S("Delete Hoax")})]})},Q=function(){return Object(m.jsx)("div",{className:"d-flex justify-content-center",children:Object(m.jsx)("div",{className:"spinner-border text-black-50",children:Object(m.jsx)("span",{className:"sr-only",children:"Loading..."})})})},Z=a(7),ee=function(){var e=Object(n.useState)({content:[],last:!0,number:0}),t=Object(p.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(0),s=Object(p.a)(r,2),i=s[0],o=s[1],l=Object(O.a)().t,j=Object(Z.h)().username,h=j?"/api/1.0/users/".concat(j,"/hoaxes?page="):"/api/1.0/hoaxes?page=",f=g("get",h),x=0,v=0;if(a.content.length>0){v=a.content[0].id;var N=a.content.length-1;x=a.content[N].id}var y=j?"/api/1.0/users/".concat(j,"/hoaxes/").concat(x):"/api/1.0/hoaxes/".concat(x),w=g("get",y,!0),k=j?"/api/1.0/users/".concat(j,"/hoaxes/").concat(v,"?direction=after"):"/api/1.0/hoaxes/".concat(v,"?direction=after"),C=g("get",k,!0);Object(n.useEffect)((function(){var e=setInterval(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(v,j);case 2:t=e.sent,o(t.data.count);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),5e3);return function(){clearInterval(e)}}),[v,j]),Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(j,t);case 3:a=e.sent,c((function(e){return Object(b.a)(Object(b.a)({},a.data),{},{content:[].concat(Object(G.a)(e.content),Object(G.a)(a.data.content))})})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}})()()}),[j]);var S=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(x,j);case 2:t=e.sent,c((function(e){return Object(b.a)(Object(b.a)({},t.data),{},{content:[].concat(Object(G.a)(e.content),Object(G.a)(t.data.content))})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(v,j);case 2:t=e.sent,c((function(e){return Object(b.a)(Object(b.a)({},e),{},{content:[].concat(Object(G.a)(t.data),Object(G.a)(e.content))})})),o(0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){c((function(t){return Object(b.a)(Object(b.a)({},t),{},{content:t.content.filter((function(t){return t.id!==e}))})}))},A=a.content,H=a.last;return 0===A.length?Object(m.jsx)("div",{className:"alert alert-secondary text-center",children:f?Object(m.jsx)(Q,{}):l("There are no hoaxes")}):Object(m.jsxs)("div",{children:[i>0&&Object(m.jsx)("div",{className:"alert alert-secondary text-center mb-1",style:{cursor:C?"not-allowed":"pointer"},onClick:C?function(){}:L,children:C?Object(m.jsx)(Q,{}):l("There are new hoaxes")}),A.map((function(e){return Object(m.jsx)($,{hoax:e,onDeleteHoax:E},e.id)})),!H&&Object(m.jsx)("div",{className:"alert alert-secondary text-center",style:{cursor:w?"not-allowed":"pointer"},onClick:w?function(){}:S,children:w?Object(m.jsx)(Q,{}):l("Load old hoaxes")})]})},te=(a(87),function(e){var t=e.image,a=e.uploading;return Object(m.jsxs)("div",{style:{position:"relative"},children:[Object(m.jsx)("img",{className:"img-thumbnail",src:t,alt:"hoax-attachment"}),Object(m.jsx)("div",{className:"overlay",style:{opacity:a?1:0},children:Object(m.jsx)("div",{className:"d-flex justify-content-center h-100",children:Object(m.jsx)("div",{className:"spinner-border text-light m-auto",children:Object(m.jsx)("span",{className:"sr-only",children:"Loading..."})})})})]})}),ae=function(){var e=Object(N.c)((function(e){return{image:e.image}})).image,t=Object(n.useState)(!1),a=Object(p.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(""),i=Object(p.a)(s,2),o=i[0],l=i[1],j=Object(n.useState)(),b=Object(p.a)(j,2),x=b[0],v=b[1],y=Object(n.useState)(),w=Object(p.a)(y,2),k=w[0],C=w[1],S=Object(n.useState)({}),L=Object(p.a)(S,2),E=L[0],D=L[1],U=Object(O.a)().t;Object(n.useEffect)((function(){c||(l(""),D({}),v(),C())}),[c]),Object(n.useEffect)((function(){D({})}),[o]);var P=g("post","/api/1.0/hoaxes",!0),F=g("post","/api/1.0/hoax-attachments",!0),I=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={content:o,attachmentId:k},e.prev=1,e.next=4,A(t);case 4:r(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0.response.data.validationErrors&&D(e.t0.response.data.validationErrors);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),e.next=4,H(a);case 4:n=e.sent,C(n.data.id);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z="form-control";return E.content&&(z+=" is-invalid"),Object(m.jsxs)("div",{className:"card p-1 flex-row",children:[Object(m.jsx)(J,{image:e,width:"32",height:"32",className:"rounded-circle mr-1"}),Object(m.jsxs)("div",{className:"flex-fill",children:[Object(m.jsx)("textarea",{className:z,rows:c?"3":"1",onFocus:function(){return r(!0)},onChange:function(e){return l(e.target.value)},value:o}),Object(m.jsx)("div",{className:"invalid-feedback",children:E.content}),c&&Object(m.jsxs)(m.Fragment,{children:[!x&&Object(m.jsx)(h,{type:"file",onChange:function(e){if(!(e.target.files.length<1)){var t=e.target.files[0],a=new FileReader;a.onloadend=function(){v(a.result),T(t)},a.readAsDataURL(t)}}}),x&&Object(m.jsx)(te,{image:x,uploading:F}),Object(m.jsxs)("div",{className:"text-right mt-1",children:[Object(m.jsx)(f,{className:"btn btn-primary",onClick:I,text:"Hoaxify",pendingApiCall:P,disabled:P||F}),Object(m.jsxs)("button",{className:"btn btn-light d-inline-flex ml-1",onClick:function(){return r(!1)},disabled:P||F,children:[Object(m.jsx)("i",{className:"material-icons",children:"close"}),U("Cancel")]})]})]})]})]})},ne=function(e){var t=e.user,a=t.username,n=t.displayName,c=t.image;return Object(m.jsxs)(X.b,{to:"/user/".concat(a),className:"list-group-item list-group-item-action",children:[Object(m.jsx)(J,{className:"rounded-circle",width:"32",height:"32",alt:"".concat(a," profile"),image:c}),Object(m.jsxs)("span",{className:"pl-2",children:[n,"@",a]})]})},ce=function(){var e=Object(n.useState)({content:[],size:3,number:0}),t=Object(p.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(p.a)(r,2),i=s[0],o=s[1],l=g("get","/api/1.0/users?page");Object(n.useEffect)((function(){j()}),[]);var j=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!1),e.prev=1,e.next=4,C(t);case 4:a=e.sent,c(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),o(!0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),b=Object(O.a)().t,h=a.content,f=a.last,x=a.first,v=Object(m.jsxs)("div",{children:[!1===x&&Object(m.jsx)("button",{className:"btn btn-sm btn-light",onClick:function(){var e=a.number-1;j(e)},children:b("Previous")}),!1===f&&Object(m.jsx)("button",{className:"btn btn-sm btn-light float-right",onClick:function(){var e=a.number+1;j(e)},children:b("Next")})]});return l&&(v=Object(m.jsx)(Q,{})),Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("h3",{className:"card-header text-center",children:b("Users")}),Object(m.jsx)("div",{className:"list-group-flush",children:h.map((function(e){return Object(m.jsx)(ne,{user:e},e.username)}))}),v,i&&Object(m.jsx)("div",{className:"text-center text-danger",children:b("Load Failure")})]})},re=function(){var e=Object(N.c)((function(e){return{isLoggedIn:e.isLoggedIn}})).isLoggedIn;return Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col",children:[e&&Object(m.jsx)("div",{className:"mb-1",children:Object(m.jsx)(ae,{})}),Object(m.jsx)(ee,{})]}),Object(m.jsx)("div",{className:"col",children:Object(m.jsx)(ce,{})})]})})},se=function(e){var t=Object(n.useState)(!1),a=Object(p.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(),i=Object(p.a)(s,2),o=i[0],l=i[1],j=Object(N.c)((function(e){return{username:e.username}})).username,x=Object(Z.h)().username,v=Object(n.useState)({}),y=Object(p.a)(v,2),w=y[0],k=y[1],C=Object(n.useState)(!1),S=Object(p.a)(C,2),L=S[0],A=S[1],D=Object(n.useState)(),U=Object(p.a)(D,2),P=U[0],F=U[1],H=Object(n.useState)({}),I=Object(p.a)(H,2),R=I[0],_=I[1],B=Object(n.useState)(!1),V=Object(p.a)(B,2),K=V[0],W=V[1],G=Object(N.b)(),q=Object(Z.g)();Object(n.useEffect)((function(){k(e.user)}),[e.user]),Object(n.useEffect)((function(){A(x===j)}),[x,j]),Object(n.useEffect)((function(){_((function(e){return Object(b.a)(Object(b.a)({},e),{},{displayName:void 0})}))}),[o]),Object(n.useEffect)((function(){_((function(e){return Object(b.a)(Object(b.a)({},e),{},{image:void 0})}))}),[P]);var X=w.username,$=w.displayName,Q=w.image,ee=g("delete","/api/1.0/users/".concat(X),!0),te=Object(O.a)().t;Object(n.useEffect)((function(){c?l($):(l(void 0),F(void 0))}),[c,$]);var ae=function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P&&(t=P.split(",")[1]),a={displayName:o,image:t},e.prev=2,e.next=5,E(X,a);case 5:n=e.sent,r(!1),k(n.data),G(M(n.data)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),_(e.t0.response.data.validationErrors);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(X);case 2:W(!1),G(z()),q.push("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=g("put","/api/1.0/users/"+X),re=R.displayName,se=R.image;return Object(m.jsxs)("div",{className:"card text-center",children:[Object(m.jsx)("div",{className:"card-header",children:Object(m.jsx)(J,{className:"rounded-circle shadow",width:"200",height:"200",alt:"".concat(X," profile"),image:Q,tempimage:P})}),Object(m.jsxs)("div",{className:"card-body",children:[!c&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("h3",{children:[$,"@",X]}),L&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("button",{className:"btn btn-success d-inline-flex",onClick:function(){return r(!0)},children:[Object(m.jsx)("i",{className:"material-icons",children:"edit"}),te("Edit")]}),Object(m.jsx)("div",{className:"pt-2",children:Object(m.jsxs)("button",{className:"btn btn-danger d-inline-flex",onClick:function(){return W(!0)},children:[Object(m.jsx)("i",{className:"material-icons",children:"directions_run"}),te("Delete My Account")]})})]})]}),c&&Object(m.jsxs)("div",{children:[Object(m.jsx)(h,{label:te("Change Display Name"),defaultValue:$,onChange:function(e){l(e.target.value)},error:re}),Object(m.jsx)(h,{type:"file",onChange:function(e){if(!(e.target.files.length<1)){var t=e.target.files[0],a=new FileReader;a.onloadend=function(){F(a.result)},a.readAsDataURL(t)}},error:se}),Object(m.jsxs)("div",{children:[Object(m.jsx)(f,{className:"btn btn-primary d-inline-flex",onClick:ae,disabled:ce,pendingApiCall:ce,text:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("i",{className:"material-icons",children:"save"}),te("Save")]})}),Object(m.jsxs)("button",{className:"btn btn-light d-inline-flex ml-1",onClick:function(){return r(!1)},disabled:ce,children:[Object(m.jsx)("i",{className:"material-icons",children:"close"}),te("Cancel")]})]})]})]}),Object(m.jsx)(Y,{visible:K,title:te("Delete My Account"),okButton:te("Delete My Account"),onClickCancel:function(){W(!1)},onClickOk:ne,message:te("Are you sure to delete your account?"),pendingApiCall:ee})]})},ie=function(){var e=Object(n.useState)({}),t=Object(p.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(p.a)(r,2),i=s[0],o=s[1],l=Object(Z.h)().username,j=Object(O.a)().t,b=g("get","/api/1.0/users/"+l,!0);return Object(n.useEffect)((function(){o(!1)}),[a]),Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(l);case 3:t=e.sent,c(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o(!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[l]),i?Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"alert alert-danger text-center",children:[Object(m.jsx)("div",{children:Object(m.jsx)("i",{className:"material-icons",style:{fontSize:"48px"},children:"error"})}),j("User Not Found")]})}):b||a.username!==l?Object(m.jsx)(Q,{}):Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col",children:Object(m.jsx)(se,{user:a})}),Object(m.jsx)("div",{className:"col",children:Object(m.jsx)(ee,{})})]})})},oe=a.p+"static/media/hoaxify.e76cb420.png",le=function(e){var t=Object(O.a)().t,a=Object(N.c)((function(e){return{isLoggedIn:e.isLoggedIn,username:e.username,displayName:e.displayName,image:e.image}})),c=a.username,r=a.isLoggedIn,s=a.displayName,i=a.image,o=Object(n.useRef)(null),l=Object(n.useState)(!1),u=Object(p.a)(l,2),d=u[0],j=u[1];Object(n.useEffect)((function(){return document.addEventListener("click",b),function(){document.removeEventListener("click",b)}}),[r]);var b=function(e){null!==o.current&&o.current.contains(e.target)||j(!1)},h=Object(N.b)(),f=Object(m.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(m.jsx)("li",{children:Object(m.jsx)(X.b,{className:"nav-link",to:"/login",children:t("Login")})}),Object(m.jsx)("li",{children:Object(m.jsx)(X.b,{className:"nav-link",to:"/signup",children:t("Sign Up")})})]});if(r){var x="dropdown-menu p-0 shadow";d&&(x+=" show"),f=Object(m.jsx)("ul",{className:"navbar-nav ml-auto",ref:o,children:Object(m.jsxs)("li",{className:"nav-item dropdown",children:[Object(m.jsxs)("div",{className:"d-flex",style:{cursor:"pointer"},onClick:function(){return j(!0)},children:[Object(m.jsx)(J,{image:i,width:"32",height:"32",className:"rounded-circle m-auto"}),Object(m.jsx)("span",{className:"nav-link dropdown-toggle",children:s})]}),Object(m.jsxs)("div",{className:x,children:[Object(m.jsxs)(X.b,{className:"dropdown-item d-flex p-2",to:"/user/".concat(c),onClick:function(){return j(!1)},children:[Object(m.jsx)("i",{className:"material-icons text-info mr-2",children:"person"}),t("My Profile")]}),Object(m.jsxs)("span",{className:"dropdown-item  d-flex p-2",onClick:function(){h(z())},style:{cursor:"pointer"},children:[Object(m.jsx)("i",{className:"material-icons text-danger mr-2",children:"power_settings_new"}),t("Logout")]})]})]})})}return Object(m.jsx)("div",{className:"shadow-sm bg-light mb-2",children:Object(m.jsxs)("nav",{className:"navbar navbar-light container navbar-expand",children:[Object(m.jsxs)(X.b,{className:"navbar-brand",to:"/",children:[Object(m.jsx)("img",{src:oe,width:"60",alt:"Hoaxify Logo"}),"Hoaxify"]}),f]})})},ue=function(){var e=Object(N.c)((function(e){return{isLoggedIn:e.isLoggedIn}})).isLoggedIn;return Object(m.jsxs)("div",{children:[Object(m.jsxs)(X.a,{children:[Object(m.jsx)(le,{}),Object(m.jsxs)(Z.d,{children:[Object(m.jsx)(Z.b,{exact:!0,path:"/",component:re}),!e&&Object(m.jsx)(Z.b,{path:"/login",component:K}),")",Object(m.jsx)(Z.b,{path:"/signup",component:V}),Object(m.jsx)(Z.b,{path:"/user/:username",component:ie}),Object(m.jsx)(Z.a,{to:"/"})]})]}),Object(m.jsx)(W,{})]})},de=a(27),je=a(45),be={isLoggedIn:!1,username:void 0,displayName:void 0,image:void 0,password:void 0},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(b.a)({},be),t=arguments.length>1?arguments[1]:void 0;return t.type===y?be:t.type===w?Object(b.a)(Object(b.a)({},t.payload),{},{isLoggedIn:!0}):t.type===k?Object(b.a)(Object(b.a)({},e),t.payload):e},me=a(46),he=new(a.n(me).a),Oe=function(){var e=he.get("hoax-auth")||{isLoggedIn:!1,username:void 0,displayName:void 0,image:void 0,password:void 0};S(e);var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||de.b,a=Object(de.c)(pe,e,t(Object(de.a)(je.a)));return a.subscribe((function(){var e;e=a.getState(),he.set("hoax-auth",e),S(a.getState())})),a}();r.a.render(Object(m.jsx)(N.a,{store:Oe,children:Object(m.jsx)(ue,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[88,1,2]]]);
//# sourceMappingURL=main.0630ce13.chunk.js.map